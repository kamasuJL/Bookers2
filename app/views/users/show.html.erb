<% if @book.errors.any? %>
  <%= @book.errors.count %>errors prohibited this obj from being saved
  <ul>
    <% @book.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>

<div>
  <h2>User info</h2>
  <%= image_tag @user.get_profile_image(100,100) %>
  <h4>name&emsp;<%= @user.name %></h4>
  <h4>introduction&emsp;<%= @user.introduction %></h4>
  <% if @user == current_user %>
    <button type="button" class="btn btn-outline-dark">
    <p><%= link_to edit_user_path(@user) do %>
    <i class="fa-solid fa-user-gear" ></i>
    <% end %>
    </p>
    </button>
  <% end %>
</div>

<% if user_signed_in? %>
  <h3>New book</h3>
  <%= form_with model: @book do |f| %>
  <h4>Title</h4>
  <%= f.text_field :title %>
  <h4>Opinion</h4>
  <%= f.text_area :body %><br>
  <%= f.submit 'Create Book', class: "btn btn-success" %>
  <% end %>
<% end %>

<h3>Books</h3>
<p>Title</p>
<p>Opinion</p>
<% @books.each do |book| %>
<div>
  <p><%= image_tag book.user.get_profile_image(100,100) %></p>
  <p><%= link_to book.title, book_path(book.id) %></p>
  <p><%= book.body %></p>
</div>
<% end %>